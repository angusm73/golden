{"version":3,"sources":["stars.js"],"names":["max_stars","window","innerWidth","stars","canvas_width","document","body","clientWidth","canvas_height","clientHeight","setup","createCanvas","i","push","Star","windowResized","resizeCanvas","length","splice","draw","background","fill","map","star","move","x","random","y","size","velocity","p5","Vector","random2D","mult","distance_to_cursor","dist","mouseX","mouseY","multiplier","mouseIsPressed","tracer_length","ellipse"],"mappings":"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","file":"stars.js","sourcesContent":["let max_stars = window.innerWidth * 1.5\r\nlet stars = []\r\nlet canvas_width = document.body.clientWidth\r\nlet canvas_height = document.body.clientHeight\r\n\r\nfunction setup() {\r\n    createCanvas(canvas_width, canvas_height)\r\n    for (let i = 0; i < max_stars; i++) {\r\n        stars.push(new Star)\r\n    }\r\n}\r\n\r\nfunction windowResized() {\r\n    canvas_width = document.body.clientWidth\r\n    canvas_height = document.body.clientHeight\r\n    resizeCanvas(canvas_width, canvas_height)\r\n    if (window.innerWidth * 1.5 > max_stars) {\r\n        for (let i = 0; i < max_stars; i++) {\r\n            if (!stars[i].length) {\r\n                stars.push(new Star)\r\n            }\r\n        }\r\n    }\r\n    max_stars = window.innerWidth * 1.5\r\n    stars = stars.splice(0, max_stars)\r\n}\r\n\r\nfunction draw() {\r\n    background(10, 17, 40)\r\n    fill(255)\r\n    stars.map(star => star.move())\r\n    stars.map(star => star.draw())\r\n}\r\n\r\nclass Star {\r\n    constructor() {\r\n        this.x = random(0, canvas_width)\r\n        this.y = random(0, canvas_height)\r\n        this.size = random(4, 8)\r\n        this.velocity = p5.Vector.random2D().mult((this.size - 3) * 0.4)\r\n    }\r\n    move() {\r\n        const distance_to_cursor = dist(this.x, this.y, mouseX, mouseY)\r\n        const multiplier = !mouseIsPressed\r\n            ? distance_to_cursor < 130 ? (150 - distance_to_cursor) * 0.04 : 1\r\n            : 1\r\n        this.tracer_length = distance_to_cursor < 150 ? (150 - distance_to_cursor) * 0.2 : 0\r\n        this.x += this.velocity.x * multiplier\r\n        this.y += this.velocity.y * multiplier\r\n        if (this.x < 0) {\r\n            this.x = canvas_width\r\n        } else if (this.x > canvas_width) {\r\n            this.x = 0\r\n        }\r\n        if (this.y < 0) {\r\n            this.y = canvas_height\r\n        } else if (this.y > canvas_height) {\r\n            this.y = 0\r\n        }\r\n    }\r\n    draw() {\r\n        if (this.tracer_length) {\r\n            fill(186, 100, 11)\r\n            ellipse(this.x - this.velocity.x * this.tracer_length, this.y - this.velocity.y * this.tracer_length, this.size, this.size)\r\n            fill(200, 29, 37)\r\n            ellipse(this.x - this.velocity.x * this.tracer_length / 2, this.y - this.velocity.y * this.tracer_length / 2, this.size, this.size)\r\n        }\r\n        fill(255)\r\n        ellipse(this.x, this.y, this.size, this.size)\r\n    }\r\n}"]}