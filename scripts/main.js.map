{"version":3,"sources":["main.js"],"names":["Angus","initValidation","initScrollEvents","stars_in_motion","initRedStars","form","document","getElementById","text_inputs","querySelectorAll","toggle_label","e","target","value","length","classList","add","remove","forEach","input","addEventListener","main_nav","querySelector","nav_links","children","animate_in_elements","calculate_offsets","elements","i","element","getAttribute","push","name","textContent","link","offset_top","offsetTop","window","innerHeight","spy_elements","preventDefault","scrollTo","top","clientHeight","behavior","scrollY","current_spy","filter","pop","getBoundingClientRect","y","dispatchEvent","Event","bgs","stars","star","createElement","size","Math","floor","random","className","style","width","height","bg","appendChild","setInterval","available_stars","contains","speed","shootStar","setTimeout","angus"],"mappings":"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","file":"main.js","sourcesContent":["class Angus {\r\n\r\n    constructor() {\r\n        this.initValidation()\r\n        this.initScrollEvents()\r\n\r\n        this.stars_in_motion = []\r\n        this.initRedStars()\r\n    }\r\n\r\n    initValidation() {\r\n        const form = document.getElementById('contact-form')\r\n        const text_inputs = form.querySelectorAll('input[type=text], input[type=email], textarea')\r\n        const toggle_label = e => {\r\n            if (e.target.value.length) {\r\n                e.target.classList.add('has-text')\r\n            } else {\r\n                e.target.classList.remove('has-text')\r\n            }\r\n        }\r\n        if (text_inputs.length) {\r\n            text_inputs.forEach(input => {\r\n                input.addEventListener('input', toggle_label)\r\n            })\r\n        }\r\n    }\r\n\r\n    initScrollEvents() {\r\n        const main_nav = document.querySelector('.main-nav')\r\n        const nav_links = main_nav.children\r\n        const animate_in_elements = document.querySelectorAll('footer.footer > *')\r\n        const calculate_offsets = () => {\r\n            let elements = []\r\n            if (nav_links.length) {\r\n                for (let i = 0; i < nav_links.length; i++) {\r\n                    const element = nav_links[i]\r\n                    const target = document.querySelector(element.getAttribute('data-spy'))\r\n                    elements.push({\r\n                        name: element.textContent,\r\n                        link: element,\r\n                        element: target,\r\n                        offset_top: target.offsetTop - window.innerHeight\r\n                    })\r\n                }\r\n            }\r\n            return elements\r\n        }\r\n        let spy_elements = calculate_offsets()\r\n\r\n        /* Init scroll spy */\r\n        if (nav_links.length) {\r\n            for (let i = 0; i < nav_links.length; i++) {\r\n                const element = nav_links[i]\r\n                const target = document.querySelector(element.getAttribute('data-spy'))\r\n                element.addEventListener('click', e => {\r\n                    e.preventDefault()\r\n                    window.scrollTo({\r\n                        top: target.offsetTop - ((window.innerHeight - target.clientHeight) / 2),\r\n                        behavior: 'smooth'\r\n                    })\r\n                })\r\n            }\r\n        }\r\n\r\n        /* On scroll */\r\n        window.addEventListener('scroll', e => {\r\n            /* Sticky Nav */\r\n            if (window.scrollY) {\r\n                main_nav.classList.add('sticky')\r\n            } else {\r\n                main_nav.classList.remove('sticky')\r\n            }\r\n            /* Scroll Spy */\r\n            const current_spy = spy_elements.filter(i => window.scrollY > i.offset_top).pop()\r\n            if (nav_links.length) {\r\n                for (let i = 0; i < nav_links.length; i++) {\r\n                    const element = nav_links[i]\r\n                    element.classList.remove('active')\r\n                }\r\n            }\r\n            current_spy.link.classList.add('active')\r\n            /* Animate In */\r\n            for (let i = 0; i < animate_in_elements.length; i++) {\r\n                const element = animate_in_elements[i]\r\n                if (element.getBoundingClientRect().y < window.innerHeight) {\r\n                    element.classList.add('slide-fade-in')\r\n                }\r\n            }\r\n        })\r\n        window.addEventListener('resize', e => {\r\n            spy_elements = calculate_offsets()\r\n        })\r\n        window.dispatchEvent(new Event('scroll'))\r\n    }\r\n\r\n    initRedStars() {\r\n        const bgs = document.querySelectorAll('.red-stripe')\r\n        bgs.forEach(bg => {\r\n\r\n            let stars = []\r\n\r\n            for (let i = 0; i < 40; i++) {\r\n                const star = document.createElement('span')\r\n                star.size = Math.floor(Math.random() * 6) + 4\r\n                star.className = 'star'\r\n                star.style.top = (i * 2.25) + (Math.random() * 4) - 2 + 'vw'\r\n                star.style.width = star.size + 'px'\r\n                star.style.height = star.size + 'px'\r\n                stars.push(star)\r\n                bg.appendChild(star)\r\n            }\r\n\r\n            setInterval(() => {\r\n                const available_stars = stars.filter(star => !star.classList.contains('shooting'))\r\n                const star = available_stars[Math.floor(Math.random() * available_stars.length)]\r\n                if (!star) return\r\n                const speed = star.size / 8\r\n                this.shootStar(star, speed)\r\n            }, 50)\r\n        })\r\n    }\r\n\r\n    shootStar(star, speed) {\r\n        star.classList.add('shooting')\r\n        setTimeout(() => {\r\n            star.classList.remove('shooting')\r\n        }, 2000)\r\n    }\r\n}\r\n\r\nwindow.angus = new Angus"]}