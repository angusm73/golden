{"version":3,"sources":["main.js"],"names":["Angus","initValidation","initScrollEvents","form","document","getElementById","text_inputs","querySelectorAll","toggle_label","e","target","value","length","classList","add","remove","forEach","input","addEventListener","main_nav","querySelector","nav_links","children","animate_in_elements","calculate_offsets","elements","i","element","getAttribute","push","name","textContent","link","offset_top","getBoundingClientRect","top","window","scrollY","innerHeight","spy_elements","preventDefault","scrollTo","clientHeight","behavior","current_spy","filter","pop","y","dispatchEvent","Event","angus"],"mappings":"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","file":"main.js","sourcesContent":["class Angus {\r\n\r\n    constructor() {\r\n        this.initValidation()\r\n        this.initScrollEvents()\r\n    }\r\n\r\n    initValidation() {\r\n        const form = document.getElementById('contact-form')\r\n        const text_inputs = form.querySelectorAll('input[type=text], input[type=email], textarea')\r\n        const toggle_label = e => {\r\n            if (e.target.value.length) {\r\n                e.target.classList.add('has-text')\r\n            } else {\r\n                e.target.classList.remove('has-text')\r\n            }\r\n        }\r\n        if (text_inputs.length) {\r\n            text_inputs.forEach(input => {\r\n                input.addEventListener('input', toggle_label)\r\n            })\r\n        }\r\n    }\r\n\r\n    initScrollEvents() {\r\n        const main_nav = document.querySelector('.main-nav')\r\n        const nav_links = main_nav.children\r\n        const animate_in_elements = document.querySelectorAll('footer.footer > *')\r\n        const calculate_offsets = () => {\r\n            let elements = []\r\n            if (nav_links.length) {\r\n                for (let i = 0; i < nav_links.length; i++) {\r\n                    const element = nav_links[i]\r\n                    const target = document.querySelector(element.getAttribute('data-spy'))\r\n                    elements.push({\r\n                        name: element.textContent,\r\n                        link: element,\r\n                        element: target,\r\n                        offset_top: target.getBoundingClientRect().top + window.scrollY - window.innerHeight\r\n                    })\r\n                }\r\n            }\r\n            return elements\r\n        }\r\n        let spy_elements = calculate_offsets()\r\n\r\n        /* Init scroll spy */\r\n        if (nav_links.length) {\r\n            for (let i = 0; i < nav_links.length; i++) {\r\n                const element = nav_links[i]\r\n                const target = document.querySelector(element.getAttribute('data-spy'))\r\n                element.addEventListener('click', e => {\r\n                    e.preventDefault()\r\n                    window.scrollTo({\r\n                        top: target.getBoundingClientRect().top + window.scrollY - ((window.innerHeight - target.clientHeight) / 2),\r\n                        behavior: 'smooth'\r\n                    })\r\n                })\r\n            }\r\n        }\r\n\r\n        /* On scroll */\r\n        window.addEventListener('scroll', e => {\r\n            /* Sticky Nav */\r\n            if (window.scrollY > 0) {\r\n                main_nav.classList.add('sticky')\r\n            } else {\r\n                main_nav.classList.remove('sticky')\r\n            }\r\n            /* Scroll Spy */\r\n            const current_spy = spy_elements.filter(i => window.scrollY > i.offset_top).pop()\r\n            if (nav_links.length) {\r\n                for (let i = 0; i < nav_links.length; i++) {\r\n                    const element = nav_links[i]\r\n                    element.classList.remove('active')\r\n                }\r\n            }\r\n            current_spy.link.classList.add('active')\r\n            /* Animate In */\r\n            for (let i = 0; i < animate_in_elements.length; i++) {\r\n                const element = animate_in_elements[i]\r\n                if (element.getBoundingClientRect().y < window.innerHeight) {\r\n                    element.classList.add('slide-fade-in')\r\n                }\r\n            }\r\n        })\r\n        window.addEventListener('resize', e => {\r\n            spy_elements = calculate_offsets()\r\n        })\r\n        window.dispatchEvent(new Event('scroll'))\r\n    }\r\n}\r\n\r\nwindow.angus = new Angus"]}